{% extends 'base.html' %}

{% block title %}Crear Alumno{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h2><i class="fas fa-user-graduate"></i> Crear Nuevo Alumno</h2>
  <a href="{% url 'alumnos:lista' %}" class="btn btn-secondary">
    <i class="fas fa-arrow-left"></i> Volver
  </a>
</div>

<div class="row">
  <div class="col-md-10">
    <div class="card">
      <div class="card-header">
        <h5><i class="fas fa-user-graduate"></i> Datos del Alumno</h5>
      </div>
      <div class="card-body">
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
          <h6><i class="fas fa-exclamation-triangle"></i> Errores:</h6>
          {{ form.non_field_errors }}
        </div>
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="{{ form.usuario.id_for_label }}" class="form-label">Usuario del Sistema:</label>
                {{ form.usuario }}
                {% if form.usuario.errors %}
                <div class="text-danger">{{ form.usuario.errors }}</div>
                {% endif %}
                <small class="text-muted">Selecciona el usuario asociado a este alumno</small>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label for="{{ form.carrera.id_for_label }}" class="form-label">Carrera:</label>
                {{ form.carrera }}
                {% if form.carrera.errors %}
                <div class="text-danger">{{ form.carrera.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.numero_legajo.id_for_label }}" class="form-label">Número de Legajo:</label>
                {{ form.numero_legajo }}
                {% if form.numero_legajo.errors %}
                <div class="text-danger">{{ form.numero_legajo.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.nombre.id_for_label }}" class="form-label">Nombre:</label>
                {{ form.nombre }}
                {% if form.nombre.errors %}
                <div class="text-danger">{{ form.nombre.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.apellido.id_for_label }}" class="form-label">Apellido:</label>
                {{ form.apellido }}
                {% if form.apellido.errors %}
                <div class="text-danger">{{ form.apellido.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.dni.id_for_label }}" class="form-label">DNI:</label>
                {{ form.dni }}
                {% if form.dni.errors %}
                <div class="text-danger">{{ form.dni.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email:</label>
                {{ form.email }}
                {% if form.email.errors %}
                <div class="text-danger">{{ form.email.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="{{ form.telefono.id_for_label }}" class="form-label">Teléfono:</label>
                {{ form.telefono }}
                {% if form.telefono.errors %}
                <div class="text-danger">{{ form.telefono.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="{{ form.fecha_nacimiento.id_for_label }}" class="form-label">Fecha de Nacimiento:</label>
                {{ form.fecha_nacimiento }}
                {% if form.fecha_nacimiento.errors %}
                <div class="text-danger">{{ form.fecha_nacimiento.errors }}</div>
                {% endif %}
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label for="{{ form.fecha_ingreso.id_for_label }}" class="form-label">Fecha de Ingreso:</label>
                {{ form.fecha_ingreso }}
                {% if form.fecha_ingreso.errors %}
                <div class="text-danger">{{ form.fecha_ingreso.errors }}</div>
                {% endif %}
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="{{ form.direccion.id_for_label }}" class="form-label">Dirección:</label>
            {{ form.direccion }}
            {% if form.direccion.errors %}
            <div class="text-danger">{{ form.direccion.errors }}</div>
            {% endif %}
          </div>

          <div class="d-flex justify-content-end gap-2">
            <a href="{% url 'alumnos:lista' %}" class="btn btn-secondary">
              <i class="fas fa-times"></i> Cancelar
            </a>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Crear Alumno
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-md-2">
    <div class="card">
      <div class="card-header">
        <h6><i class="fas fa-info-circle"></i> Información</h6>
      </div>
      <div class="card-body">
        <p class="small">
          <strong>Campos obligatorios:</strong>
        </p>
        <ul class="small">
          <li>Usuario</li>
          <li>Carrera</li>
          <li>Legajo</li>
          <li>Nombre</li>
          <li>Apellido</li>
          <li>DNI</li>
          <li>Email</li>
          <li>Fecha de nacimiento</li>
          <li>Fecha de ingreso</li>
        </ul>
      </div>
    </div>
  </div>
</div>

{% endblock %}
